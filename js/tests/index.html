<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ID7 Plugin Test Suite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Dependencies -->
  <script src="../libs/jquery-1.11.1.min.js"></script>
  <script src="../libs/webfont-1.5.6.min.js"></script>
  <script>$.support.transition = false</script>
  <script src="../libs/bootstrap-3.3.1.min.js"></script>
  <script src="../libs/typeahead.jquery-0.10.5.js"></script>
  <script src="../libs/lodash-2.4.1.js"></script>

  <!-- QUnit -->
  <link rel="stylesheet" href="vendor/qunit.css" media="screen">
  <script src="vendor/qunit.js"></script>
  <style>
    #qunit-tests > li.pass {
      display: none;/* Make it easier to see failing tests in Sauce screencasts */
    }

    #qunit-fixture {
      top: 0;
      left: 0;
    }
  </style>
  <script>
    // See https://github.com/axemclion/grunt-saucelabs#test-result-details-with-qunit
    var log = []
    QUnit.done(function (testResults) {
      var tests = []
      for (var i = 0, len = log.length; i < len; i++) {
        var details = log[i]
        tests.push({
          name: details.name,
          result: details.result,
          expected: details.expected,
          actual: details.actual,
          source: details.source
        })
      }
      testResults.tests = tests

      window.global_test_results = testResults
    });

    QUnit.testStart(function (testDetails) {
      $(window).scrollTop(0)
      QUnit.log = function (details) {
        if (!details.result) {
          details.name = testDetails.name
          log.push(details)
        }
      }
    });

    // Cleanup
    QUnit.testDone(function () {
      $('#qunit-fixture').empty()
    });
  </script>

  <!-- Plugin sources -->
  <script src="../../js/account-popover.jquery.js"></script>
  <script src="../../js/navigation.jquery.js"></script>
  <script src="../../js/search-suggest.jquery.js"></script>

  <!-- Unit tests -->
  <script src="unit/account-popover.jquery.js"></script>
  <script src="unit/navigation.jquery.js"></script>
  <script src="unit/search-suggest.jquery.js"></script>

</head>
<body>
<div id="qunit-container">
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
</div>
</body>
</html>