@import '../../../less/bootstrap/variables.less';
@import '../../../less/bootstrap/mixins.less';
@import '../../../less/bootstrap/responsive-utilities.less';
@import '../../../less/font-awesome/variables.less';
@import '../../../less/variables.less';
@import '../../../less/mixins.less';

body {
  max-width: 1920px;
  margin-left: auto;
  margin-right: auto;

  @secondary-colour: screen(@id7-brand-purple, lighten(black, 60%));

  .apply-form-control-brand(@id7-brand-purple);
}

.id7-page-header {
  position: fixed;
  width: 100%;
  background: @id7-brand-purple;
  .transition(background-color 0.15s linear);

  z-index: 1;
  top: 0px;
  left: 0px;
}

body {
  position: relative;
}

main > .id7-main-content {
  width: 100% !important;
  padding: 0;
}

// Containers
.id7-utility-bar > nav, .id7-masthead, .id7-navigation > .navbar {
  .container-fixed(0);

  @media (min-width: @screen-sm-min) {
    width: @container-sm;
  }
  @media (min-width: @screen-md-min) {
    width: @container-md;
  }
  @media (min-width: @screen-lg-min) {
    width: @container-lg;
  }
}

.id7-utility-masthead {
  background-image: url("/dist/images/masthead-logo-bleed-homepage-xs.png");
  background-position: 0 @id7-masthead-bleed-height;
  background-repeat: no-repeat;
  background-size: @container-sm 300px;

  @media (min-width: @screen-sm-min) {
    background-image: url("/dist/images/masthead-logo-bleed-homepage-sm.png");
    background-size: @container-md @id7-masthead-logo-height-sm;
    background-position: center @id7-masthead-bleed-height;
  }
  @media (min-width: @screen-md-min) {
    background-image: url("/dist/images/masthead-logo-bleed-homepage-md.png");
    background-size: @container-lg @id7-masthead-logo-height-sm;
  }
  @media (min-width: @screen-lg-min) {
    background-image: url("/dist/images/masthead-logo-bleed-homepage-lg.png");
    background-size: 3000px @id7-masthead-logo-height-sm;
  }
}

@media
only screen and (-webkit-min-device-pixel-ratio: 2),
only screen and (   min--moz-device-pixel-ratio: 2),
only screen and (     -o-min-device-pixel-ratio: 2/1),
only screen and (        min-device-pixel-ratio: 2),
only screen and (                min-resolution: 192dpi),
only screen and (                min-resolution: 2dppx) {
  .id7-utility-masthead {
    background-image: url("/dist/images/masthead-logo-bleed-homepage-xs@2x.png");

    @media (min-width: @screen-sm-min) {
      background-image: url("/dist/images/masthead-logo-bleed-homepage-sm@2x.png");
    }
    @media (min-width: @screen-md-min) {
      background-image: url("/dist/images/masthead-logo-bleed-homepage-md@2x.png");
    }
    @media (min-width: @screen-lg-min) {
      background-image: url("/dist/images/masthead-logo-bleed-homepage-lg@2x.png");
    }
  }
}

.id7-masthead {
  background: none;

  .id7-logo-column {
    margin-bottom: 0;
  }

  .id7-logo-row nav {
    @media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) {
      display: block !important;
    }

    margin-left: (135px + (@grid-gutter-width / 2));
    font-size: @font-size-base;
    font-weight: bold;
    .opacity(1);

    margin-top: 47px;
  }

  .id7-search {
    .id7-search-box-container {
      @media (min-width: @grid-float-breakpoint) {
        margin-top: (7px + (@line-height-computed / 2));
      }
    }
  }

  .popover.megamenu-links {
    text-shadow: none;

    max-width: 100%;
    width: 80%;

    min-height: 300px;
    height: 70vh;
    max-height: 600px;
  }
}

// Jumbotron content blocks
.jumbotron {
  margin: 0;
  padding: 0;

  background: black;
  color: white;
  .link-colour(white);

  .flexbox();
  .flex-direction(column);

  .container-fluid {
    width: 100%;
  }

  @media (min-width: @grid-float-breakpoint) {
    .container, .container-fluid {
      .flexbox();
      .flex-direction(column);
      .flex(2013, 1, 1, auto);

      .row, .layout {
        .flexbox();
        .flex(2013, 1, 0, 0);
        .align-items(center);

        > * {
          .flexbox();
          .flex-direction(column);
          .flex(2013, 1, 1, auto);
        }
      }
    }

    &.jumbotron-panel {
      .container, .container-fluid {
        .container-fluid {
          .flex-direction(column);
        }

        .row, .layout {
          .align-items(stretch);

          > * {
            .flex-direction(row);
            .align-items(center);

            &.flex-vertical {
              .flex-direction(column);
              .align-items(stretch);
            }
          }
        }

        > .layout {
          > .column-1, > .column-2 {
            padding: 0;

            > .column-1-content, > .column-2-content {
              position: relative;
              z-index: 2;
              padding: 0 (@grid-gutter-width / 2);
              margin-top: 104px;

              @media (min-width: @screen-sm-min) {
                width: (@container-sm / 2);
              }
              @media (min-width: @screen-md-min) {
                width: (@container-md / 2);
              }
              @media (min-width: @screen-lg-min) {
                width: (@container-lg / 2);
              }
            }

            > .column-1-content {
              @media (min-width: @screen-md-min) {
                padding-left: 200px;
              }
            }

            > .column-2-content {
              @media (min-width: @screen-md-min) {
                padding-right: 200px;
              }
            }
          }

          > .column-1 {
            .justify-content(end);
          }

          > .column-2 {
            .justify-content(start);
          }
        }
      }
    }
  }

  h2 {
    font-size: 40px;
  }

  p {
    margin-bottom: (@grid-gutter-width / 2);
    font-size: @font-size-h3;
    font-weight: 200;
  }

  &.jumbotron-image, .jumbotron-image {
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;

    position: relative;

    &::before {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(40, 40, 40, 0.5);
    }

    > * {
      position: relative;
    }

    .container {
      margin-top: (104px + (@grid-gutter-width / 2));
    }
  }

  min-height: 600px;
  height: 100vh;
  max-height: 1200px;
}

.carousel-nav {
  .hidden-xs();

  .title {
    .hidden-sm();
  }

  position: fixed;
  width: 250px;
  right: 0px;
  top: 124px;
  z-index: 10;
  text-align: right;

  color: white;
  .link-colour(white);

  ul.nav {
    padding: 0;
    padding-right: (@grid-gutter-width / 2);
    list-style: none;
    margin: 0;

    > li {
      position: static;
      display: list-item;

      > a {
        position: static;
        display: inline;
        padding: 0;

        &:hover,
        &:focus {
          text-decoration: underline;
          background: none;
        }
      }

      i.fa:before { content: @fa-var-circle-o; }
      &.active i.fa:before { content: @fa-var-dot-circle-o; }
      &.active .title { font-weight: bold; }
    }
  }
}