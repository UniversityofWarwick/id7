#masthead {
  .logo-row {
    height: @id7-masthead-height-xs;

    > * {
      height: 100%;
    }

    > .logo {
      img { visibility: hidden; }
    }
  }

  background-image: url(../images/masthead-logo-bleed-xs@2x.png);
  background-size: @screen-sm-min 300px;
  background-position: left top;
  background-repeat: no-repeat;

  @media (min-width: @screen-sm-min) {
    background-image: url(../images/masthead-logo-bleed-sm@2x.png);
    background-size: @container-lg 300px;

    .logo-row {
      height: @id7-masthead-height-sm;

      > .logo {
        width: @id7-masthead-logo-width-sm;
        float: left;
      }

      > .container-fluid {
        float: left;
      }
    }
  }

  .logo-row > .container-fluid {
    @media (min-width: @screen-sm-min) {
      width: (@container-sm * 2/3) - @id7-masthead-logo-width-sm;
    }

    @media (min-width: @screen-md-min) {
      width: (@container-md * 2/3) - @id7-masthead-logo-width-sm;
    }

    @media (min-width: @screen-lg-min) {
      width: (@container-lg * 2/3) - @id7-masthead-logo-width-sm;
    }
  }

  .logo a {
    display: block;
    height: 100%;
    width: 100%;
    text-align: center;

    img {
      height: 100%;
    }
  }

  .header-text {
    color: black;

    h1 {
      margin: (@line-height-computed / 2) 0;
    }

    .parent-site-link {
      .small();
      font-weight: 100;
    }

    .parent-site-link + .current-site-link::before {
      content: "\00BB";
      font-weight: 100;
      margin-right: (@grid-gutter-width / 4);
    }
  }

  .navbar-toggle {
    border-color: @navbar-default-toggle-border-color;

    &:hover, &:focus {
      background-color: @navbar-default-toggle-hover-bg;
    }

    .icon-bar {
      background-color: @navbar-default-toggle-icon-bar-bg;
    }
  }

  .warwick-site-links {
    .list-inline();
    .small();
    .opacity(0);
    .transition(opacity 0.15s linear);

    margin: 0;

    @line-height-small-computed: floor((@font-size-small * @line-height-small)); // ~17px
    margin-top: (@id7-masthead-height-sm * 3/4) - (@line-height-small-computed / 2);

    > li {
      padding: 0;

      &:not(:first-child)::before {
        content: '|';
        margin-left: 0.1em;
        margin-right: 0.2em;
        color: @gray-light;
      }
    }

    .link-colour(@gray-dark);
  }

  .logo-row:hover .warwick-site-links { .opacity(1); }

  .search {
    .search-box {
      @media (min-width: @screen-sm-min) {
        margin-top: 38px + (@line-height-computed / 2); // FIXME Magic number
      }

      position: relative;

      .input-lg {
        padding-right: @padding-large-horizontal + 26px; // FIXME Magic number
      }
    }

    .form-group {
      margin-bottom: 0;
      padding-bottom: (@line-height-computed / 2);
    }

    .fa {
      position: absolute;
      top: 9px;
      right: 9px;

      color: @gray-light;
      .transition(color .15s linear);
    }

    #search-box:active + .fa,
    #search-box:hover + .fa,
    #search-box:focus + .fa {
      color: black;
    }
  }
}