/* We explicitly don't target .btn on these, but IE8 doesn't support :not, so we target html.lt-ie9 as well */

.link-colour(@base, @hover) {
  a, a:link, a:visited {
    html.lt-ie9 & {
      color: @base;
    }

    &:not(.btn) {
      color: @base;
    }
  }

  a:hover, a:focus, a:active {
    html.lt-ie9 & {
      color: @hover;
    }

    &:not(.btn) {
      color: @hover;
    }
  }

  a:hover .new-window-link {
    color: @hover;
  }
}

.link-colour(@base) when not (@base = inherit) {
  .link-colour(@base, darken(@base, 20%));
}

.link-colour(@base) when (@base = inherit) {
  a, a:link, a:visited {
    html.lt-ie9 & {
      color: inherit;
    }

    &:not(.btn) {
      color: inherit;
    }
  }

  a:hover, a:focus, a:active {
    html.lt-ie9 & {
      color: inherit;
    }

    &:not(.btn) {
      color: inherit;
    }
  }
}

.link-decoration(@base: none, @hover: underline) {
  a, a:link, a:visited {
    html.lt-ie9 & {
      text-decoration: @base;
    }

    &:not(.btn) {
      text-decoration: @base;
    }
  }

  a:hover, a:focus, a:active {
    html.lt-ie9 & {
      text-decoration: @hover;
    }

    &:not(.btn) {
      text-decoration: @hover;
    }
  }
}